<div class="model_max">
  <div>
      <div class="kt-portlet__head-progress">
      </div>
      <div class="modal-header">
          <h3 class="modal-title text-white">{{ !clientEmailId?'Add New User':'Update User' }} </h3>
          <span class="kt-portlet__head-icon kt-hide">
              <em class="la la-gear"></em>
          </span>
      </div>
  </div>
  <div class="kt-form">
    <form class="form form-label-left" [formGroup]="clientEmail">
      <div class="modal-body">

        <div class="form-group row">
          <label for="example-text-input" class="col-xl-3 col-lg-3 col-form-label">Email
            <span class="text-danger">*</span>
            </label>
          <div class="col-9">
              <input appAutofocus class="form-control form-control-lg" type="email"
                formControlName="email"  id="email"
                placeholder="Please Enter Email"
                title="Email" />
              <mat-error *ngIf="isControlHasError('email','required')">
                please enter valid email address
              </mat-error>
              <mat-error *ngIf="isControlHasError('email','email')">
                please enter valid email address
              </mat-error>
              <mat-error *ngIf="isControlHasError('email','minLength')">
                please enter valid email address
              </mat-error>
              <mat-error *ngIf="isControlHasError('email','maxLength')">
                please enter valid email address
              </mat-error>
          </div>
        </div>

        <div class="form-group row">
          <label for="example-text-input" class="col-xl-3 col-lg-3 col-form-label">Select Clients </label>
          <div class="col-9">
              <ng-multiselect-dropdown
                  [placeholder]="'Please select clients'"
                  [settings]="dropdownSettings"
                  [data]="dropdownList"
                  [(ngModel)]="selectedItems"
                  [ngModelOptions]="{standalone: true}"
                  (onFilterChange)="onFilterChange($event)"
                  (onDropDownClose)="onDropDownClose($event)"
                  (onSelect)="onItemSelect($event)"
                  (onDeSelect)="onDeSelect($event)"
                  (onSelectAll)="onSelectAll($event)"
                  (onDeSelectAll)="onDeSelectAll($event)"
                  [required]='requiredField'
              >
              </ng-multiselect-dropdown>
              <mat-error *ngIf="requiredField">
                Please select client
              </mat-error>
          </div>
        </div>

        <div class="form-group row">
          <label for="example-text-input" class="col-xl-3 col-lg-3 col-form-label"> Permission <span
                  class="text-danger">*</span></label>
          <div class="col-9">
            <mat-checkbox class="permission-checkbox"  (change)="selectModule(1, $event.checked)"
              [checked]="is_allowed_add_client == 1" color='primary' > Add</mat-checkbox> &nbsp;&nbsp;
            <mat-checkbox class="permission-checkbox"  (change)="selectModule(2, $event.checked)"
              [checked]="is_edit == 1" color='primary' > Edit</mat-checkbox> &nbsp;&nbsp;
            <mat-checkbox class="permission-checkbox"  (change)="selectModule(3, $event.checked)"
              [checked]="is_delete == 1" color='primary' > Delete</mat-checkbox>
          </div>
      </div>

      </div>
    </form>
      <div class="modal-footer text-right">
          <div class="kt-form__actions kt-form__actions--sm">
            <button mat-button (click)="cancel()"  class=" btn btn-danger"> Cancel </button> &nbsp;&nbsp;
            <button mat-button (click)="ClientAdd()" *ngIf="!clientEmailId" color="primary" class=" btn btn-green text-white" [disabled]="isSubmitted ? true: false" > Save </button>
            <button mat-button (click)="clientUpdate()" *ngIf="clientEmailId" color="primary" class=" btn btn-green text-white" > Update </button>
          </div>
      </div>
  </div>
</div>
