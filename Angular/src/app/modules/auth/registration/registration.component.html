<div class="bottom-logo text-center mb-5">
  <img src="assets/media/logos/logo.png" alt="Logo" class="img-fluid" />
</div>
<!--begin::Signup-->
<div class="login-signup login-form">
  <!--begin::Form-->
  <div class="container welcome-form">

<div class="row">
    <div class="col-lg-6 col-md-12 col-sm-12">
      <h1 class="text-black text-left">Welcome on the SnS storage network!</h1>
      <p class="confirm-text text-black text-left">Share your storage space and earn rewards or upload data on the SnS secure geo-distributed storage network in just a few minutes.</p>
      <img src="assets/media/signup/map-img.png" alt="Map" class="img-fluid" />
    </div>
    <div class="col-lg-6 col-md-12 col-sm-12">
      <form
      class="form"
      novalidate="novalidate"
      id="kt_login_signup_form"
      [formGroup]="registrationForm"
      (ngSubmit)="submit()"
    >
      <!--begin::Title-->
      <div class="pb-1 pt-lg-0 pt-5">
        <h3 class="font-weight-bolder text-black font-size-h4 font-size-h1-lg">
          Sign Up
        </h3>
        <p class="text-black font-weight-bold font-size-h4">
          Enter your details to create your account
        </p>
      </div>
      <!--end::Title-->

      <!-- begin::Alert error-->
      <!-- <ng-container *ngIf="hasError">
        <div
          class="mb-10 alert alert-custom alert-light-danger alert-dismissible"
        >
          <div class="alert-text">The registration details are incorrect</div>
        </div>
      </ng-container> -->
      <!-- end::Alert error-->

      <!--begin::Form group-->
      <div class="form-group">
        <!-- <label class="font-size-h6 font-weight-bolder text-white">First Name</label> -->
        <input
          class="form-control form-control-solid h-auto py-4 px-6 rounded-md font-size-h6"
          type="text"
          name="first_name"
          formControlName="first_name"
          placeholder="First Name"
          autocomplete="off"
          [ngClass]="{
            'is-invalid': registrationForm.controls['first_name'].invalid
          }"
        />
        <ng-container
          [ngTemplateOutlet]="formError" 
          [ngTemplateOutletContext]="{
            validation: 'required',
            message: 'First Name is required',
            control: registrationForm.controls['first_name']
          }"
        ></ng-container>
        <ng-container
          [ngTemplateOutlet]="formError"
          [ngTemplateOutletContext]="{
            validation: 'pattern',
            message: 'Invalid first name',
            control: registrationForm.controls['first_name']
          }"
        ></ng-container>
        <ng-container
          [ngTemplateOutlet]="formError"
          [ngTemplateOutletContext]="{
            validation: 'minlength',
            message: 'First Name should have at least 3 symbols',
            control: registrationForm.controls['first_name']
          }"
        ></ng-container>
        <ng-container
          [ngTemplateOutlet]="formError"
          [ngTemplateOutletContext]="{
            validation: 'maxlength',
            message: 'First Name should have maximum 40 symbols',
            control: registrationForm.controls['first_name']
          }"
        ></ng-container>
      </div>
      <!--end::Form group-->

        <!--begin::Form group-->
        <div class="form-group">
          <!-- <label class="font-size-h6 font-weight-bolder text-white">Last Name</label> -->
          <input
            class="form-control form-control-solid h-auto py-4 px-6 rounded-md font-size-h6"
            type="text"
            name="last_name"
            formControlName="last_name"
            placeholder="Last Name"
            autocomplete="off"
            [ngClass]="{
              'is-invalid': registrationForm.controls['last_name'].invalid
            }"
          />
          <ng-container
            [ngTemplateOutlet]="formError"
            [ngTemplateOutletContext]="{
              validation: 'required',
              message: 'Last name is required',
              control: registrationForm.controls['last_name']
            }"
          ></ng-container>
          <ng-container
          [ngTemplateOutlet]="formError"
          [ngTemplateOutletContext]="{
            validation: 'pattern',
            message: 'Invalid last name',
            control: registrationForm.controls['last_name']
          }"
        ></ng-container>
          <ng-container
            [ngTemplateOutlet]="formError"
            [ngTemplateOutletContext]="{
              validation: 'minlength',
              message: 'Last Name should have at least 3 symbols',
              control: registrationForm.controls['last_name']
            }"
          ></ng-container>
          <ng-container
            [ngTemplateOutlet]="formError"
            [ngTemplateOutletContext]="{
              validation: 'maxlength',
              message: 'Last Name should have maximum 40 symbols',
              control: registrationForm.controls['last_name']
            }"
          ></ng-container>
        </div>
        <!--end::Form group-->

          <!--begin::Form group-->
          <div class="form-group">
            <!-- <label class="font-size-h6 font-weight-bolder text-white">Phone</label> -->
            <input
              class="form-control form-control-solid h-auto py-4 px-6 rounded-md font-size-h6"
              type="text"
              name="phone"
              formControlName="phone"
              placeholder="Phone"
              autocomplete="off"
              [ngClass]="{
                'is-invalid': registrationForm.controls['phone'].invalid
              }"
            />
            <ng-container
              [ngTemplateOutlet]="formError"
              [ngTemplateOutletContext]="{
                validation: 'required',
                message: 'Phone is required',
                control: registrationForm.controls['phone']
              }"
            ></ng-container>
            <ng-container
              [ngTemplateOutlet]="formError"
              [ngTemplateOutletContext]="{
                validation: 'pattern',
                message: 'Phone is not valid',
                control: registrationForm.controls['phone']
              }"
            ></ng-container>
            <ng-container
            [ngTemplateOutlet]="formError"
            [ngTemplateOutletContext]="{
              validation: 'minlength',
              message: 'Phone should have at least 10 number',
              control: registrationForm.controls['phone']
            }"
          ></ng-container>
          <ng-container
            [ngTemplateOutlet]="formError"
            [ngTemplateOutletContext]="{
              validation: 'maxlength',
              message: 'Cannot be longer than 15 Numbers',
              control: registrationForm.controls['phone']
            }"
          ></ng-container>
          </div>
          <!--end::Form group-->

      <!--begin::Form group-->
      <div class="form-group">
        <!-- <label class="font-size-h6 font-weight-bolder text-white">Email</label> -->
        <input
          class="form-control form-control-solid h-auto py-4 px-6 rounded-md font-size-h6"
          type="email"
          placeholder="Email"
          name="email"
          formControlName="email"
          autocomplete="off"
          [ngClass]="{ 'is-invalid': registrationForm.controls['email'].invalid }"
        />
        <ng-container
          [ngTemplateOutlet]="formError"
          [ngTemplateOutletContext]="{
            validation: 'required',
            message: 'Email is required',
            control: registrationForm.controls['email']
          }"
        ></ng-container>
        <!-- <ng-container
          [ngTemplateOutlet]="formError"
          [ngTemplateOutletContext]="{
            validation: 'email',
            message: 'Email is invalid',
            control: registrationForm.controls['email']
          }"
        ></ng-container> -->
        <ng-container
          [ngTemplateOutlet]="formError"
          [ngTemplateOutletContext]="{
            validation: 'minlength',
            message: 'Email should have at least 3 symbols',
            control: registrationForm.controls['email']
          }"
        ></ng-container>
        <ng-container
          [ngTemplateOutlet]="formError"
          [ngTemplateOutletContext]="{
            validation: 'maxlength',
            message: 'Email should have maximum 50 symbols',
            control: registrationForm.controls['email']
          }"
        ></ng-container>
        <ng-container
              [ngTemplateOutlet]="formError"
              [ngTemplateOutletContext]="{
                validation: 'pattern',
                message: 'Email is invalid',
                control: registrationForm.controls['email']
              }"
            ></ng-container>
      </div>
      <!--end::Form group-->

      <!--begin::Form group-->
      <div class="form-group password-input">
        <!-- <label class="font-size-h6 font-weight-bolder text-white "
          >Password</label> -->
        <input
          class="form-control password-input form-control-solid h-auto py-4 px-6 rounded-md font-size-h6"
          [type]="show?'text':'password'"
          placeholder="Password"
          name="password"
          formControlName="password"
          autocomplete="off"
          [ngClass]="{
            'is-invalid': registrationForm.controls['password'].invalid
          }"
        />
        <mat-icon class="eye-icon" (click)="togglePassword()">{{!show?'visibility_off':'visibility'}}</mat-icon>
        <ng-container
          [ngTemplateOutlet]="formError"
          [ngTemplateOutletContext]="{
            validation: 'required',
            message: 'Password is required',
            control: registrationForm.controls['password']
          }"
        ></ng-container>
        <ng-container
          [ngTemplateOutlet]="formError"
          [ngTemplateOutletContext]="{
            validation: 'pattern',
            message: 'Contains 8-15 characters, at least one number, at least one upper character, at least one
            lower
            character, at least one special character.',
            control: registrationForm.controls['password']
          }"
        ></ng-container>
      </div>
      <!--end::Form group-->

      <!--begin::Form group-->
      <div class="form-group ">
        <!-- <label class="font-size-h6 font-weight-bolder text-white">Confirm Password</label> -->
        <input
          class="form-control password-input form-control-solid h-auto py-4 px-6 rounded-md font-size-h6"
          [type]="show?'text':'password'"
          placeholder="Confirm Password"
          name="cPassword"
          autocomplete="off"
          formControlName="cPassword"
          [ngClass]="{
            'is-invalid': registrationForm.controls['cPassword'].invalid
          }"
        />
        <ng-container
          [ngTemplateOutlet]="formError"
          [ngTemplateOutletContext]="{
            validation: 'required',
            message: 'Confirm Password is required',
            control: registrationForm.controls['cPassword']
          }"
        ></ng-container>
        <ng-container
          [ngTemplateOutlet]="formError"
          [ngTemplateOutletContext]="{
            validation: 'minlength',
            message: 'Confirm Password should have at least 3 symbols',
            control: registrationForm.controls['cPassword']
          }"
        ></ng-container>
        <ng-container
          [ngTemplateOutlet]="formError"
          [ngTemplateOutletContext]="{
            validation: 'maxlength',
            message: 'Confirm Password should have maximum 100 symbols',
            control: registrationForm.controls['cPassword']
          }"
        ></ng-container>
        <ng-container
          *ngIf="
            registrationForm.controls['cPassword'].errors &&
            registrationForm.controls['cPassword'].errors.ConfirmPassword
          "
        >
          <div class="fv-plugins-message-container">
            <div class="fv-help-block">
              'Passsword' and 'Confirm Password' didn't match.
            </div>
          </div>
        </ng-container>
      </div>
      <div class="form-group">
        <re-captcha id="recaptcha" name="recaptcha" formControlName="recaptcha"></re-captcha>
        <ng-container
            [ngTemplateOutlet]="formError"
            [ngTemplateOutletContext]="{
              validation: 'required',
              message: 'Captcha is required',
              control: registrationForm.controls['recaptcha']
            }"
          ></ng-container>
      </div>
      <!--end::Form group-->

      <!--begin::Form group-->
      <!-- <div class="form-group">
        <label class="checkbox mb-0">
          <input type="checkbox" formControlName="agree" name="agree" />&nbsp;I
          Agree the&nbsp;<a
            href="https://keenthemes.com/metronic/?page=faq"
            target="_blank"
            >terms and conditions</a
          >.&nbsp;
          <span></span>
        </label>
      </div> -->
      <!--end::Form group-->

      <!--begin::Form group-->
      <div class="form-group d-flex flex-wrap pb-lg-0 pb-3">
        <button
          type="submit"
          id="kt_login_signup_submit"
          class="btn login-btn  font-weight-bolder font-size-h6 px-8 py-4 my-3 mr-3">
          Submit
        </button>
        <a
          routerLink="/auth/login"
          type="button"
          id="kt_login_signup_cancel"
          class="btn btn-light-primary font-weight-bolder font-size-h6 px-8 py-4 my-3"
        >
          Cancel
        </a>

        <!-- <ng-container *ngIf="isLoading$ | async">
          <span class="spinner spinner-primary ml-5"></span>
        </ng-container> -->
      </div>
      <!--end::Form group-->
      <div class="text-left">
        <p>Already have an account?  <a href="auth/login" class="text-center red-link"> Sign in.</a></p>
         </div>
    </form>

    </div>

</div>


  </div>

  <!--end::Form-->
</div>
<!--end::Signup-->

  <ng-template
    #formError
    let-control="control"
    let-message="message"
    let-validation="validation"
  >
    <ng-container
      *ngIf="control.hasError(validation) && (control.dirty || control.touched)"
    >
      <div class="fv-plugins-message-container">
        <div class="fv-help-block">
          {{ message }}
        </div>
      </div>
    </ng-container>
  </ng-template>
