{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { first } from 'rxjs/operators';\nimport { RegexEnum } from 'src/app/constant/regex';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../_services/auth.service\";\nimport * as i3 from \"@angular/platform-browser\";\nimport * as i4 from \"@ngx-translate/core\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"ng-recaptcha\";\nimport * as i7 from \"@angular/router\";\nimport * as i8 from \"@angular/material/form-field\";\n\nfunction ForgotPasswordComponent_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 15);\n    i0.ɵɵelementStart(2, \"div\", 16);\n    i0.ɵɵtext(3, \"The email detail is incorrect\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction ForgotPasswordComponent_mat_error_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"AUTH.VALIDATION.REQUIRED_FIELD\"), \" \");\n  }\n}\n\nfunction ForgotPasswordComponent_mat_error_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"AUTH.VALIDATION.INVALID_FIELD\"), \" \");\n  }\n}\n\nfunction ForgotPasswordComponent_mat_error_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"AUTH.VALIDATION.MIN_LENGTH_FIELD\"), \" 3 \");\n  }\n}\n\nfunction ForgotPasswordComponent_mat_error_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"AUTH.VALIDATION.MAX_LENGTH_FIELD\"), \" 320 \");\n  }\n}\n\nfunction ForgotPasswordComponent_mat_error_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"AUTH.VALIDATION.REQUIRED_FIELD\"), \" \");\n  }\n}\n\nfunction ForgotPasswordComponent_ng_container_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"span\", 17);\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction ForgotPasswordComponent_ng_container_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 18);\n    i0.ɵɵelementStart(2, \"div\", 19);\n    i0.ɵɵelementStart(3, \"div\", 20);\n    i0.ɵɵelementStart(4, \"h3\", 21);\n    i0.ɵɵtext(5, \"Email is correct!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 22);\n    i0.ɵɵtext(7, \" Message with 'recovery' instruction\");\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵtext(9, \" has been sent\");\n    i0.ɵɵelement(10, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"a\", 23);\n    i0.ɵɵtext(12, \" Ok, got it! \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    display: a0\n  };\n};\n\nconst _c1 = function (a0) {\n  return {\n    \"is-invalid\": a0\n  };\n};\n\nvar ErrorStates = /*#__PURE__*/(() => {\n  (function (ErrorStates) {\n    ErrorStates[ErrorStates[\"NotSubmitted\"] = 0] = \"NotSubmitted\";\n    ErrorStates[ErrorStates[\"HasError\"] = 1] = \"HasError\";\n    ErrorStates[ErrorStates[\"NoError\"] = 2] = \"NoError\";\n  })(ErrorStates || (ErrorStates = {}));\n\n  return ErrorStates;\n})();\nexport let ForgotPasswordComponent = /*#__PURE__*/(() => {\n  class ForgotPasswordComponent {\n    constructor(fb, authService, titleService, translateService) {\n      this.fb = fb;\n      this.authService = authService;\n      this.titleService = titleService;\n      this.translateService = translateService;\n      this.errorState = ErrorStates.NotSubmitted;\n      this.errorStates = ErrorStates; // private fields\n\n      this.unsubscribe = []; // Read more: => https://brianflove.com/2016/12/11/anguar-2-unsubscribe-observables/\n\n      this.titleService.setTitle(this.translateService.instant('AUTH.FORGOT.FORGOT_TITLE'));\n      this.isLoading$ = this.authService.isLoading$;\n    }\n\n    ngOnInit() {\n      this.initForm();\n    } // convenience getter for easy access to form fields\n\n\n    get f() {\n      return this.forgotPasswordForm.controls;\n    }\n\n    initForm() {\n      this.forgotPasswordForm = this.fb.group({\n        email: ['', Validators.compose([Validators.required, Validators.pattern(RegexEnum.email), Validators.minLength(3), Validators.maxLength(320) // https://stackoverflow.com/questions/386294/what-is-the-maximum-length-of-a-valid-email-address\n        ])],\n        recaptcha: ['', Validators.required]\n      });\n    }\n    /**\r\n     * Checking control validation\r\n     *\r\n     * @param controlName: string => Equals to formControlName\r\n     * @param validationType: string => Equals to valitors name\r\n     */\n\n\n    isControlHasError(controlName, validationType) {\n      const control = this.forgotPasswordForm.controls[controlName];\n\n      if (!control) {\n        return false;\n      }\n\n      const result = control.hasError(validationType) && (control.dirty || control.touched);\n      return result;\n    }\n\n    submit() {\n      this.errorState = ErrorStates.NotSubmitted;\n      const controls = this.forgotPasswordForm.controls;\n\n      if (this.forgotPasswordForm.invalid) {\n        Object.keys(controls).forEach(controlName => controls[controlName].markAsTouched());\n        return;\n      }\n\n      const forgotPasswordSubscr = this.authService.forgotPassword(this.f.email.value).pipe(first()).subscribe(result => {\n        this.errorState = result ? ErrorStates.NoError : ErrorStates.HasError;\n      });\n      this.unsubscribe.push(forgotPasswordSubscr);\n    }\n\n  }\n\n  ForgotPasswordComponent.ɵfac = function ForgotPasswordComponent_Factory(t) {\n    return new (t || ForgotPasswordComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Title), i0.ɵɵdirectiveInject(i4.TranslateService));\n  };\n\n  ForgotPasswordComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ForgotPasswordComponent,\n    selectors: [[\"app-forgot-password\"]],\n    decls: 33,\n    vars: 32,\n    consts: [[1, \"bottom-logo\", \"text-center\", \"mb-5\"], [\"src\", \"assets/media/logos/logo.png\", \"alt\", \"Logo\"], [1, \"login-form\", \"login-forgot\"], [\"novalidate\", \"novalidate\", \"id\", \"kt_login_forgot_form\", 1, \"form\", \"fv-plugins-bootstrap\", \"fv-plugins-framework\", 3, \"formGroup\", \"ngStyle\", \"ngSubmit\"], [1, \"pb-3\", \"pt-lg-0\", \"pt-5\"], [1, \"font-weight-bolder\", \"text-white\", \"font-size-h4\", \"font-size-h1-lg\"], [1, \"text-muted\", \"font-weight-bold\", \"font-size-h4\"], [4, \"ngIf\"], [1, \"form-group\", \"fv-plugins-icon-container\", \"has-danger\"], [\"type\", \"email\", \"formControlName\", \"email\", \"name\", \"email\", \"autocomplete\", \"off\", 1, \"form-control\", \"form-control-solid\", \"h-auto\", \"py-3\", \"px-6\", \"rounded-lg\", \"font-size-h6\", 3, \"placeholder\", \"ngClass\"], [1, \"form-group\", \"pt-1\"], [\"id\", \"recaptcha\", \"name\", \"recaptcha\", \"formControlName\", \"recaptcha\", \"required\", \"\"], [1, \"form-group\", \"d-flex\", \"flex-wrap\", \"pb-lg-0\"], [\"type\", \"submit\", \"id\", \"kt_login_forgot_submit\", 1, \"btn\", \"btn-primary\", \"login-btn\", \"font-weight-bolder\", \"font-size-h6\", \"px-8\", \"py-4\", \"my-3\", \"mr-4\"], [\"routerLink\", \"/auth/login\", \"id\", \"kt_login_forgot_cancel\", 1, \"btn\", \"btn-light-primary\", \"font-weight-bolder\", \"font-size-h6\", \"px-8\", \"py-4\", \"my-3\"], [1, \"mb-10\", \"alert\", \"alert-custom\", \"alert-light-danger\", \"alert-dismissible\"], [1, \"alert-text\"], [1, \"spinner\", \"spinner-primary\", \"ml-5\"], [1, \"card\", \"card-custom\", \"bgi-no-repeat\", \"gutter-b\", \"emailsentmsg\"], [1, \"card-body\", \"d-flex\", \"align-items-center\"], [1, \"py-2\"], [1, \"font-weight-bolder\", \"mb-3\"], [1, \"font-size-lg\"], [\"routerLink\", \"/auth/login\", 1, \"btn\", \"login-btn\"]],\n    template: function ForgotPasswordComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelement(1, \"img\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"form\", 3);\n        i0.ɵɵlistener(\"ngSubmit\", function ForgotPasswordComponent_Template_form_ngSubmit_3_listener() {\n          return ctx.submit();\n        });\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵelementStart(5, \"h3\", 5);\n        i0.ɵɵtext(6);\n        i0.ɵɵpipe(7, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"p\", 6);\n        i0.ɵɵtext(9);\n        i0.ɵɵpipe(10, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(11, ForgotPasswordComponent_ng_container_11_Template, 4, 0, \"ng-container\", 7);\n        i0.ɵɵelementStart(12, \"div\", 8);\n        i0.ɵɵelement(13, \"input\", 9);\n        i0.ɵɵpipe(14, \"translate\");\n        i0.ɵɵtemplate(15, ForgotPasswordComponent_mat_error_15_Template, 3, 3, \"mat-error\", 7);\n        i0.ɵɵtemplate(16, ForgotPasswordComponent_mat_error_16_Template, 3, 3, \"mat-error\", 7);\n        i0.ɵɵtemplate(17, ForgotPasswordComponent_mat_error_17_Template, 3, 3, \"mat-error\", 7);\n        i0.ɵɵtemplate(18, ForgotPasswordComponent_mat_error_18_Template, 3, 3, \"mat-error\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 10);\n        i0.ɵɵelement(20, \"re-captcha\", 11);\n        i0.ɵɵtemplate(21, ForgotPasswordComponent_mat_error_21_Template, 3, 3, \"mat-error\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"div\", 12);\n        i0.ɵɵelementStart(23, \"button\", 13);\n        i0.ɵɵtext(24);\n        i0.ɵɵpipe(25, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"a\", 14);\n        i0.ɵɵtext(27);\n        i0.ɵɵpipe(28, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(29, ForgotPasswordComponent_ng_container_29_Template, 2, 0, \"ng-container\", 7);\n        i0.ɵɵpipe(30, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(31, \"div\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(32, ForgotPasswordComponent_ng_container_32_Template, 13, 0, \"ng-container\", 7);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formGroup\", ctx.forgotPasswordForm)(\"ngStyle\", i0.ɵɵpureFunction1(28, _c0, ctx.errorState === ctx.errorStates.NoError ? \"none\" : \"block\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(7, 16, \"AUTH.FORGOT.TITLE\"), \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(10, 18, \"AUTH.FORGOT.DESC\"), \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorState === ctx.errorStates.HasError);\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(14, 20, \"AUTH.INPUT.EMAIL\"));\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(30, _c1, ctx.forgotPasswordForm.controls[\"email\"].invalid && (ctx.forgotPasswordForm.controls[\"email\"].dirty || ctx.forgotPasswordForm.controls[\"email\"].touched)));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.isControlHasError(\"email\", \"required\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isControlHasError(\"email\", \"pattern\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isControlHasError(\"email\", \"minLength\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isControlHasError(\"email\", \"maxLength\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.isControlHasError(\"recaptcha\", \"required\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(25, 22, \"BUTTONS.SUBMIT\"), \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(28, 24, \"BUTTONS.CANCEL\"), \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(30, 26, ctx.isLoading$));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorState === ctx.errorStates.NoError);\n      }\n    },\n    directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i5.NgStyle, i5.NgIf, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i5.NgClass, i6.RecaptchaComponent, i6.RecaptchaValueAccessorDirective, i1.RequiredValidator, i7.RouterLinkWithHref, i8.MatError],\n    pipes: [i4.TranslatePipe, i5.AsyncPipe],\n    styles: [\".login.login-1[_ngcontent-%COMP%]   .login-aside[_ngcontent-%COMP%]   .aside-img[_ngcontent-%COMP%]{min-height:450px}.login.login-1[_ngcontent-%COMP%]   .login-signin[_ngcontent-%COMP%], .login.login-1[_ngcontent-%COMP%]   .login-signup[_ngcontent-%COMP%], .login.login-1[_ngcontent-%COMP%]   .login-forgot[_ngcontent-%COMP%], .login.login-1.login-signin-on[_ngcontent-%COMP%]   .login-signup[_ngcontent-%COMP%]{display:none}.login.login-1.login-signin-on[_ngcontent-%COMP%]   .login-signin[_ngcontent-%COMP%]{display:block}.login.login-1.login-signin-on[_ngcontent-%COMP%]   .login-forgot[_ngcontent-%COMP%]{display:none}.login.login-1.login-signup-on[_ngcontent-%COMP%]   .login-signup[_ngcontent-%COMP%]{display:block}.login.login-1.login-signup-on[_ngcontent-%COMP%]   .login-signin[_ngcontent-%COMP%], .login.login-1.login-signup-on[_ngcontent-%COMP%]   .login-forgot[_ngcontent-%COMP%], .login.login-1.login-forgot-on[_ngcontent-%COMP%]   .login-signup[_ngcontent-%COMP%], .login.login-1.login-forgot-on[_ngcontent-%COMP%]   .login-signin[_ngcontent-%COMP%]{display:none}.login.login-1.login-forgot-on[_ngcontent-%COMP%]   .login-forgot[_ngcontent-%COMP%]{display:block}@media (min-width: 992px){.login.login-1[_ngcontent-%COMP%]   .login-aside[_ngcontent-%COMP%]{width:100%;max-width:700px}.login.login-1[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]{width:100%;max-width:500px}.login.login-1[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:450px}}@media (min-width: 992px) and (max-width: 1399.98px){.login.login-1[_ngcontent-%COMP%]   .login-aside[_ngcontent-%COMP%]{width:100%;max-width:450px}}@media (max-width: 991.98px){.login.login-1[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:400px}}@media (max-width: 575.98px){.login.login-1[_ngcontent-%COMP%]   .aside-img[_ngcontent-%COMP%]{min-height:300px!important;background-size:400px}.login.login-1[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:100%}}[_nghost-%COMP%]{width:100%}@media (min-width: 992px){[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:450px;margin:0 auto}[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}}.text-white[_ngcontent-%COMP%]{color:#fff!important}.form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0;padding-top:5px!important;padding-bottom:5px!important}.password-input[_ngcontent-%COMP%]{position:relative}.password-input[_ngcontent-%COMP%]   .eye-icon[_ngcontent-%COMP%]{position:absolute;right:11px;top:16px;cursor:pointer;color:#b5b5c3}.login-form[_ngcontent-%COMP%]{background:#61605c80;padding:19px;border-radius:18px}.login-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#f3f6f9;border:none;color:#b5b5c3}.login-form[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]{background:#3699ff;border-color:#3699ff;color:#fff}.login-form[_ngcontent-%COMP%]   .btn-light-primary[_ngcontent-%COMP%]{color:gray}.custome[_ngcontent-%COMP%]{background:#3699ff;border-color:#3699ff;color:#fff!important}.emailsentmsg[_ngcontent-%COMP%]{height:175px;background-color:#fff;background-position:calc(100% + 1rem) bottom;background-size:25% auto;background-image:url(custom-1.svg)}\"]\n  });\n  return ForgotPasswordComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}