{"ast":null,"code":"import { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngx-translate/core\";\nconst LOCALIZATION_LOCAL_STORAGE_KEY = 'language';\nexport let TranslationService = /*#__PURE__*/(() => {\n  class TranslationService {\n    constructor(translate) {\n      this.translate = translate; // Private properties\n\n      this.langIds = [];\n      this.languageVisibilityChange = new Subject(); // add new langIds to the list\n\n      this.translate.addLangs(['en']); // this language will be used as a fallback when a translation isn't found in the current language\n\n      this.translate.setDefaultLang('en');\n\n      if (localStorage.getItem('language')) {\n        this.setLanguage(JSON.parse(localStorage.getItem('language')));\n      }\n    }\n\n    loadTranslations(...args) {\n      const locales = [...args];\n      locales.forEach(locale => {\n        // use setTranslation() with the third argument set to true\n        // to append translations instead of replacing them\n        this.translate.setTranslation(locale.lang, locale.data, true);\n        this.langIds.push(locale.lang);\n      }); // add new languages to the list\n\n      this.translate.addLangs(this.langIds);\n    }\n\n    setLanguage(lang) {\n      if (lang) {\n        this.translate.use(this.translate.getDefaultLang());\n        this.translate.use(lang.locale);\n        localStorage.setItem(LOCALIZATION_LOCAL_STORAGE_KEY, JSON.stringify(lang));\n        this.changeLanguage(lang);\n      }\n    }\n    /**\r\n     * Returns selected language\r\n     */\n\n\n    getSelectedLanguage() {\n      const languageData = localStorage.getItem(LOCALIZATION_LOCAL_STORAGE_KEY);\n      return JSON.parse(languageData) || this.translate.getDefaultLang();\n    }\n\n    changeLanguage(value) {\n      this.languageVisibilityChange.next(value);\n    }\n\n  }\n\n  TranslationService.ɵfac = function TranslationService_Factory(t) {\n    return new (t || TranslationService)(i0.ɵɵinject(i1.TranslateService));\n  };\n\n  TranslationService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: TranslationService,\n    factory: TranslationService.ɵfac,\n    providedIn: 'root'\n  });\n  return TranslationService;\n})();","map":null,"metadata":{},"sourceType":"module"}